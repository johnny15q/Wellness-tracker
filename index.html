<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fitness & Diet Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrap" id="appWrap">
    <header>
      <div style="display:flex;flex-direction:column">
        <h1>Fitness & Diet Tracker</h1>
        <div class="small">Logs workouts, tracks meals, converts kJ → kcal automatically</div>
      </div>
      <div class="controls">
        <button id="themeBtn" class="btn ghost">Toggle Theme</button>
        <button id="exportBtn" class="btn ghost">Export JSON</button>
        <button id="importBtn" class="btn ghost">Import JSON</button>
      </div>
    </header>

    <div class="grid">
      <!-- left column: inputs -->
      <div>
        <div class="card" id="workoutCard">
          <h2>Log Workout</h2>
          <label>Exercise</label>
          <input type="text" id="workoutName" placeholder="e.g. Running" />
          <div class="row" style="margin-top:8px">
            <div>
              <label>Duration (mins)</label>
              <input type="number" id="workoutDuration" min="0" />
            </div>
            <div>
              <label>Calories burned (kcal)</label>
              <input type="number" id="workoutCalories" min="0" />
            </div>
          </div>
          <div style="margin-top:8px" class="row">
            <div>
              <label>Date</label>
              <input type="date" id="workoutDate" />
            </div>
            <div>
              <label>Time</label>
              <input type="time" id="workoutTime" />
            </div>
          </div>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button id="addWorkout" class="btn accent">Add Workout</button>
            <button id="clearWorkouts" class="btn ghost">Clear</button>
          </div>
        </div>

        <div class="card" style="margin-top:14px" id="dietCard">
          <h2>Log Food / Meal</h2>
          <label>Food / Meal</label>
          <input type="text" id="foodName" placeholder="e.g. Chicken salad" />
          <div class="row" style="margin-top:8px">
            <div>
              <label>Energy value</label>
              <input type="number" id="foodEnergy" min="0" placeholder="e.g. 500" />
            </div>
            <div>
              <label>Unit</label>
              <select id="foodUnit"><option value="kcal">kcal</option><option value="kJ">kJ</option></select>
            </div>
          </div>
          <div style="margin-top:8px" class="row">
            <div>
              <label>Date</label>
              <input type="date" id="foodDate" />
            </div>
            <div>
              <label>Meal</label>
              <select id="foodMeal"><option>Breakfast</option><option>Lunch</option><option>Dinner</option><option>Snack</option></select>
            </div>
          </div>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button id="addFood" class="btn accent">Add Food</button>
            <button id="clearFood" class="btn ghost">Clear</button>
          </div>
        </div>
      </div>

      <!-- middle column: summary + charts -->
      <div>
        <div class="card">
          <h2>Summary</h2>
          <div class="stats" style="margin-bottom:12px">
            <div class="stat"><div class="small">Calories In (today)</div><div id="calIn" style="font-size:18px">0 kcal</div></div>
            <div class="stat"><div class="small">Calories Out (today)</div><div id="calOut" style="font-size:18px">0 kcal</div></div>
            <div class="stat"><div class="small">Net Calories (today)</div><div id="calNet" style="font-size:18px">0 kcal</div></div>
            <div class="stat"><div class="small">7-day Total Net</div><div id="weekNet" style="font-size:18px">0 kcal</div></div>
          </div>

          <h2 style="margin-top:6px">7-Day Calories</h2>
          <canvas id="chartCalories" width="600" height="150"></canvas>

          <h2 style="margin-top:6px">7-Day Workouts</h2>
          <canvas id="chartWorkouts" width="600" height="150"></canvas>

          <div style="display:flex;gap:8px;margin-top:12px">
            <button id="exportCSV" class="btn ghost">Export CSV (today)</button>
            <button id="resetAll" class="btn" style="background:linear-gradient(90deg,var(--accent-2),var(--accent-3));">Reset All</button>
          </div>
        </div>
      </div>

      <!-- right column: recents -->
      <div>
        <div class="card recent-panel">
          <h2>Recent (quick)</h2>
          <div class="recent-section">
            <div style="display:flex;justify-content:space-between;align-items:center"><div><strong>Recent Foods</strong><div class="small">latest 5</div></div></div>
            <div id="foodList" class="recent-list"></div>
            <div style="text-align:right"><button id="foodShowMore" class="show-toggle">Show More</button></div>
          </div>

          <div class="recent-section">
            <div style="display:flex;justify-content:space-between;align-items:center"><div><strong>Recent Workouts</strong><div class="small">latest 5</div></div></div>
            <div id="workoutList" class="recent-list"></div>
            <div style="text-align:right"><button id="workoutShowMore" class="show-toggle">Show More</button></div>
          </div>

          <div class="recent-section">
            <div style="display:flex;justify-content:space-between;align-items:center"><div><strong>Tools</strong></div></div>
            <div style="display:flex;gap:8px;margin-top:8px"><button id="importBtn2" class="btn ghost">Import</button><button id="exportBtn2" class="btn ghost">Export</button></div>
            <div class="small" style="margin-top:8px">Data saved locally (localStorage). Use Export/Import to move between devices.</div>
          </div>
        </div>
      </div>
    </div>

    <footer>Tip: enter energy in kJ or kcal — the app converts kJ → kcal automatically (1 kcal = 4.184 kJ).</footer>
  </div>
<script src="script.js"></script>
</body>
</html>
